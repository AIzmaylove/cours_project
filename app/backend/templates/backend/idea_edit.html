{% extends "backend/base.html" %}
{% load static %}

{% block content %}
<div class="container-md site-container">

    <!-- Главный контейнер -->
    <div class="container-md mt-5">
        <div class="row justify-content-center align-items-top">

            <!-- Аватарка -->
            <div class="col-4">
                <img src="https://img.freepik.com/free-vector/mysterious-mafia-man-smoking-cigarette_52683-34828.jpg?w=826&t=st=1678618018~exp=1678618618~hmac=ea416d598467ae43cc431081515e0bb0a25e41cb22385a045ec12ca347842f9a"
                     class="img-fluid img-thumbnail rounded" alt="Аватар">
                <h3>{{ idea.autor.first_name|title }}
                    {{ idea.autor.last_name|title }}</h3>
            </div>

            <!-- Список идей -->
            <div class="col-8">
                <!-- Форма добавления идеи-->
                <div class="mb-3">
                    <form method="post" action="{% url 'backend:idea_edit' idea.pk %}">
                        {% csrf_token %}
                        <div class="container">

                            <div class="row justify-content-center align-items-center g-2">

                                <!-- Название идеи -->
                                <div class="col-8">
                                    <label for="ideaName" class="form-label">Название идеи</label>
                                    <input name="title" type="text" class="form-control" id="ideaName"
                                           placeholder="Название" value="{{ idea.title }}">
                                </div>

                                <!-- Выбор рубрики -->
                                <div class="col">
                                    <label for="rubric" class="form-label">Рубрика</label>
                                    <select class="form-select form-select" name="rubric" id="rubric">
                                        <option value="Python"
                                                {% if idea.rubric.rubirc_name == 'Python' %}
                                                selected='selected'
                                                {% endif %}>Python</option>
                                        <option value="JavaScript"
                                                {% if idea.rubric.rubirc_name == 'JavaScript' %}
                                                selected='selected'
                                                {% endif %}>JavaScript</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Описание идеи -->
                            <div class="row justify-content-center align-items-center g-2">
                                <div class="col">
                                    <label for="preview" class="form-label">Описание</label>
                                    <textarea name="preview" type="text" class="form-control"
                                              placeholder="Введите описание">{{ idea.preview }}</textarea>
                                </div>
                            </div>

                            <!-- Содержание идеи -->
                            <div class="row justify-content-center align-items-center g-2 mb-3">
                                <label for="preview" class="form-label">Содержание</label>
                                <textarea name="body" type="text" class="form-control" id="preview"
                                          placeholder="Введите содержание">{{ idea.body }}</textarea>
                            </div>

                            <div class="row justify-content-center align-items-center g-2 mb-3">
                                <button type="submit" class="form-control btn mainButton">Изменить идею</button>
                            </div>

                        </div>
                    </form>
                    <hr>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}